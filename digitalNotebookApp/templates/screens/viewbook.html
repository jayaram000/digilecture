{% include '../components/header.html' %}

<div class="container mx-12 my-10">    
    <a href="javascript:history.back()" class="bg-transparent border-2 border-sky-500  hover:bg-gradient-to-r from-sky-500 to-violet-400 py-2 px-6 text-sky-500 hover:text-white rounded-full hover:shadow-lg">Back</a>
</div>

<div class="container mx-12 flex gap-10 max-w-screen md:flex-row flex-col">
    <img src="http://127.0.0.1:8000/static{{book.coverImage.url}}" alt="book image" class="h-1/3 w-1/3">
    <div class="container w-1/3">
        <h1 class="text-3xl text-slate-600 uppercase font-bold mb-3">{{book.title}}</h1>
        <p class="text-md text-slate-600 font-semibold capitalize opacity-75 mb-2">â‚¹{{book.price}}</p>
        <p class="text-xl text-slate-600 font-semibold capitalize opacity-75 mb-8">written by : {{book.author}}</p>

        {% if book.uploadedBy == user.username %}
        <a href="{% url 'deletebook' book.id %}" class="bg-gradient-to-r from-red-500 to-violet-400 py-2 px-6 mr-4 text-white rounded-full hover:shadow-lg">Delete Book</a>
        {% else %}
            {% if book.price > 0 %}
                {% if purchase.approved %}
                <a href="http://127.0.0.1:8000/static{{book.book.url}}" download="http://127.0.0.1:8000/static{{book.book.url}}" class="bg-gradient-to-r from-sky-500 to-violet-400 py-2 px-6 text-white rounded-full hover:shadow-lg">Download</a>
                {% else %}
                <a href="{% url  'payforbook' book.id %}" class="bg-transparent border-2 border-lime-500  hover:bg-gradient-to-r from-emerald-500 to-lime-400 py-2 px-6 text-emerald-500 hover:text-white rounded-full hover:shadow-lg">Pay</a>
                {% endif %}
            {% else %}
            <a href="http://127.0.0.1:8000/static{{book.book.url}}" download="http://127.0.0.1:8000/static{{book.book.url}}" class="bg-gradient-to-r from-sky-500 to-violet-400 py-2 px-6 text-white rounded-full hover:shadow-lg">Download</a>
            {% endif %}
        {% endif %}


        
    </div>
</div>

{% include '../components/footer.html' %}